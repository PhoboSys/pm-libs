{"version":3,"file":"index.js","names":["_lodash","require","_slicedToArray","r","e","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","l","t","Symbol","iterator","n","i","u","a","f","o","call","next","Object","done","push","value","length","Array","isArray","_createForOfIteratorHelper","_n","F","s","_arrayLikeToArray","toString","slice","constructor","name","from","test","readSearchParams","script","document","currentScript","isElement","isEmpty","src","qs","URL","searchParams","res","_iterator","_step","_step$value","key","err","applySearchParams","initial","srcargs","pick","keys","merge"],"sources":["../../libs/script-src/index.js"],"sourcesContent":["import { isEmpty, isElement, pick, keys, merge } from 'lodash'\n\nexport function readSearchParams() {\n  const script = document.currentScript\n  if (!isElement(script) || isEmpty(script.src)) return {}\n\n  const qs = new URL(script.src).searchParams\n  const res = {}\n  for (const [key, value] of qs) {\n    res[key] = value\n  }\n  return res\n}\n\nexport function applySearchParams(initial) {\n  let srcargs = readSearchParams()\n  srcargs = pick(srcargs, keys(initial))\n\n  return merge(initial, srcargs)\n}\n"],"mappings":";;;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AAA8D,SAAAC,eAAAC,CAAA,EAAAC,CAAA,WAAAC,eAAA,CAAAF,CAAA,KAAAG,qBAAA,CAAAH,CAAA,EAAAC,CAAA,KAAAG,2BAAA,CAAAJ,CAAA,EAAAC,CAAA,KAAAI,gBAAA;AAAA,SAAAA,iBAAA,cAAAC,SAAA;AAAA,SAAAH,sBAAAH,CAAA,EAAAO,CAAA,QAAAC,CAAA,WAAAR,CAAA,gCAAAS,MAAA,IAAAT,CAAA,CAAAS,MAAA,CAAAC,QAAA,KAAAV,CAAA,4BAAAQ,CAAA,QAAAP,CAAA,EAAAU,CAAA,EAAAC,CAAA,EAAAC,CAAA,EAAAC,CAAA,OAAAC,CAAA,OAAAC,CAAA,iBAAAJ,CAAA,IAAAJ,CAAA,GAAAA,CAAA,CAAAS,IAAA,CAAAjB,CAAA,GAAAkB,IAAA,QAAAX,CAAA,QAAAY,MAAA,CAAAX,CAAA,MAAAA,CAAA,UAAAO,CAAA,uBAAAA,CAAA,IAAAd,CAAA,GAAAW,CAAA,CAAAK,IAAA,CAAAT,CAAA,GAAAY,IAAA,MAAAN,CAAA,CAAAO,IAAA,CAAApB,CAAA,CAAAqB,KAAA,GAAAR,CAAA,CAAAS,MAAA,KAAAhB,CAAA,GAAAQ,CAAA,iBAAAf,CAAA,IAAAgB,CAAA,OAAAL,CAAA,GAAAX,CAAA,yBAAAe,CAAA,YAAAP,CAAA,eAAAK,CAAA,GAAAL,CAAA,cAAAW,MAAA,CAAAN,CAAA,MAAAA,CAAA,2BAAAG,CAAA,QAAAL,CAAA,aAAAG,CAAA;AAAA,SAAAZ,gBAAAF,CAAA,QAAAwB,KAAA,CAAAC,OAAA,CAAAzB,CAAA,UAAAA,CAAA;AAAA,SAAA0B,2BAAA1B,CAAA,EAAAC,CAAA,QAAAO,CAAA,yBAAAC,MAAA,IAAAT,CAAA,CAAAS,MAAA,CAAAC,QAAA,KAAAV,CAAA,qBAAAQ,CAAA,QAAAgB,KAAA,CAAAC,OAAA,CAAAzB,CAAA,MAAAQ,CAAA,GAAAJ,2BAAA,CAAAJ,CAAA,MAAAC,CAAA,IAAAD,CAAA,uBAAAA,CAAA,CAAAuB,MAAA,IAAAf,CAAA,KAAAR,CAAA,GAAAQ,CAAA,OAAAmB,EAAA,MAAAC,CAAA,YAAAA,EAAA,eAAAC,CAAA,EAAAD,CAAA,EAAAjB,CAAA,WAAAA,EAAA,WAAAgB,EAAA,IAAA3B,CAAA,CAAAuB,MAAA,KAAAH,IAAA,WAAAA,IAAA,MAAAE,KAAA,EAAAtB,CAAA,CAAA2B,EAAA,UAAA1B,CAAA,WAAAA,EAAAD,CAAA,UAAAA,CAAA,KAAAe,CAAA,EAAAa,CAAA,gBAAAtB,SAAA,iJAAAU,CAAA,EAAAF,CAAA,OAAAD,CAAA,gBAAAgB,CAAA,WAAAA,EAAA,IAAArB,CAAA,GAAAA,CAAA,CAAAS,IAAA,CAAAjB,CAAA,MAAAW,CAAA,WAAAA,EAAA,QAAAX,CAAA,GAAAQ,CAAA,CAAAU,IAAA,WAAAJ,CAAA,GAAAd,CAAA,CAAAoB,IAAA,EAAApB,CAAA,KAAAC,CAAA,WAAAA,EAAAD,CAAA,IAAAa,CAAA,OAAAG,CAAA,GAAAhB,CAAA,KAAAe,CAAA,WAAAA,EAAA,UAAAD,CAAA,YAAAN,CAAA,cAAAA,CAAA,8BAAAK,CAAA,QAAAG,CAAA;AAAA,SAAAZ,4BAAAJ,CAAA,EAAAc,CAAA,QAAAd,CAAA,2BAAAA,CAAA,SAAA8B,iBAAA,CAAA9B,CAAA,EAAAc,CAAA,OAAAN,CAAA,MAAAuB,QAAA,CAAAd,IAAA,CAAAjB,CAAA,EAAAgC,KAAA,6BAAAxB,CAAA,IAAAR,CAAA,CAAAiC,WAAA,KAAAzB,CAAA,GAAAR,CAAA,CAAAiC,WAAA,CAAAC,IAAA,aAAA1B,CAAA,cAAAA,CAAA,GAAAgB,KAAA,CAAAW,IAAA,CAAAnC,CAAA,oBAAAQ,CAAA,+CAAA4B,IAAA,CAAA5B,CAAA,IAAAsB,iBAAA,CAAA9B,CAAA,EAAAc,CAAA;AAAA,SAAAgB,kBAAA9B,CAAA,EAAAc,CAAA,aAAAA,CAAA,IAAAA,CAAA,GAAAd,CAAA,CAAAuB,MAAA,MAAAT,CAAA,GAAAd,CAAA,CAAAuB,MAAA,YAAAtB,CAAA,MAAAU,CAAA,GAAAa,KAAA,CAAAV,CAAA,GAAAb,CAAA,GAAAa,CAAA,EAAAb,CAAA,IAAAU,CAAA,CAAAV,CAAA,IAAAD,CAAA,CAAAC,CAAA,UAAAU,CAAA;AAEvD,SAAS0B,gBAAgBA,CAAA,EAAG;EACjC,IAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa;EACrC,IAAI,CAAC,IAAAC,iBAAS,EAACH,MAAM,CAAC,IAAI,IAAAI,eAAO,EAACJ,MAAM,CAACK,GAAG,CAAC,EAAE,OAAO,CAAC,CAAC;EAExD,IAAMC,EAAE,GAAG,IAAIC,GAAG,CAACP,MAAM,CAACK,GAAG,CAAC,CAACG,YAAY;EAC3C,IAAMC,GAAG,GAAG,CAAC,CAAC;EAAA,IAAAC,SAAA,GAAAtB,0BAAA,CACakB,EAAE;IAAAK,KAAA;EAAA;IAA7B,KAAAD,SAAA,CAAAnB,CAAA,MAAAoB,KAAA,GAAAD,SAAA,CAAArC,CAAA,IAAAS,IAAA,GAA+B;MAAA,IAAA8B,WAAA,GAAAnD,cAAA,CAAAkD,KAAA,CAAA3B,KAAA;QAAnB6B,GAAG,GAAAD,WAAA;QAAE5B,KAAK,GAAA4B,WAAA;MACpBH,GAAG,CAACI,GAAG,CAAC,GAAG7B,KAAK;IAClB;EAAC,SAAA8B,GAAA;IAAAJ,SAAA,CAAA/C,CAAA,CAAAmD,GAAA;EAAA;IAAAJ,SAAA,CAAAjC,CAAA;EAAA;EACD,OAAOgC,GAAG;AACZ;AAEO,SAASM,iBAAiBA,CAACC,OAAO,EAAE;EACzC,IAAIC,OAAO,GAAGlB,gBAAgB,CAAC,CAAC;EAChCkB,OAAO,GAAG,IAAAC,YAAI,EAACD,OAAO,EAAE,IAAAE,YAAI,EAACH,OAAO,CAAC,CAAC;EAEtC,OAAO,IAAAI,aAAK,EAACJ,OAAO,EAAEC,OAAO,CAAC;AAChC","ignoreList":[]}