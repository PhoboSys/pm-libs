{"version":3,"file":"index.js","names":["_envUtils","require","initForceRefreshBetweenAppsNavigation","config","isMobileEnv","forceRefresh","_window$location","_window$location2","_window$location3","baseUrl","concat","window","location","pathname","split","pm_base_path","st_base_path","mt_base_path","includes","reload","addEventListener","removeEventListener"],"sources":["../../libs/browser-history-utils/index.js"],"sourcesContent":["import { isMobileEnv } from '@libs/env-utils'\n\nexport function initForceRefreshBetweenAppsNavigation(config) {\n  if (!isMobileEnv(config)) return\n\n  function forceRefresh() {\n    const baseUrl = `/${window.location?.pathname?.split('/')?.[1]}`\n\n    if (![config.pm_base_path, config.st_base_path, config.mt_base_path].includes(baseUrl)) return\n    if (baseUrl === config.pm_base_path) return\n\n    window.location?.reload && window.location?.reload()\n  }\n\n  window.addEventListener('popstate', forceRefresh)\n\n  return () => {\n    window.removeEventListener('popstate', forceRefresh)\n  }\n}"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,OAAA;AAEO,SAASC,qCAAqCA,CAACC,MAAM,EAAE;EAC5D,IAAI,CAAC,IAAAC,qBAAW,EAACD,MAAM,CAAC,EAAE;EAE1B,SAASE,YAAYA,CAAA,EAAG;IAAA,IAAAC,gBAAA,EAAAC,iBAAA,EAAAC,iBAAA;IACtB,IAAMC,OAAO,OAAAC,MAAA,EAAAJ,gBAAA,GAAOK,MAAM,CAACC,QAAQ,cAAAN,gBAAA,gBAAAA,gBAAA,GAAfA,gBAAA,CAAiBO,QAAQ,cAAAP,gBAAA,gBAAAA,gBAAA,GAAzBA,gBAAA,CAA2BQ,KAAK,CAAC,GAAG,CAAC,cAAAR,gBAAA,uBAArCA,gBAAA,CAAwC,CAAC,CAAC,CAAE;IAEhE,IAAI,CAAC,CAACH,MAAM,CAACY,YAAY,EAAEZ,MAAM,CAACa,YAAY,EAAEb,MAAM,CAACc,YAAY,CAAC,CAACC,QAAQ,CAACT,OAAO,CAAC,EAAE;IACxF,IAAIA,OAAO,KAAKN,MAAM,CAACY,YAAY,EAAE;IAErC,EAAAR,iBAAA,GAAAI,MAAM,CAACC,QAAQ,cAAAL,iBAAA,uBAAfA,iBAAA,CAAiBY,MAAM,OAAAX,iBAAA,GAAIG,MAAM,CAACC,QAAQ,cAAAJ,iBAAA,uBAAfA,iBAAA,CAAiBW,MAAM,CAAC,CAAC;EACtD;EAEAR,MAAM,CAACS,gBAAgB,CAAC,UAAU,EAAEf,YAAY,CAAC;EAEjD,OAAO,YAAM;IACXM,MAAM,CAACU,mBAAmB,CAAC,UAAU,EAAEhB,YAAY,CAAC;EACtD,CAAC;AACH","ignoreList":[]}